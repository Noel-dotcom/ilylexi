<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>My Light in the Dark</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root {
      --match-x: -9999px;
      --match-y: -9999px;
    }

    body {
      background-color: #000;
      color: #000;
      font-family: 'Inter', sans-serif;
      min-height: 200vh;
      cursor: none;
      overflow-x: hidden;
      letter-spacing: 0.1rem;
      touch-action: manipulation;
    }

    .content-container {
      position: relative;
      padding: 8rem 2rem;
      max-width: 600px;
      margin: 0 auto;
    }

    .content-dark { position: relative; z-index: 1; }

    .content-light {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      color: #ffffff;
      z-index: 2;
      mask-image: radial-gradient(
        circle at var(--match-x) var(--match-y),
        rgba(255,255,255,1) 0%,
        rgba(255,255,255,0.95) 8%,
        rgba(255,255,255,0.8) 18%,
        rgba(255,255,255,0.55) 32%,
        rgba(255,255,255,0.28) 55%,
        rgba(255,255,255,0.12) 75%,
        rgba(255,255,255,0) 100%
      );
      -webkit-mask-image: radial-gradient(
        circle at var(--match-x) var(--match-y),
        rgba(255,255,255,1) 0%,
        rgba(255,255,255,0.95) 8%,
        rgba(255,255,255,0.8) 18%,
        rgba(255,255,255,0.55) 32%,
        rgba(255,255,255,0.28) 55%,
        rgba(255,255,255,0.12) 75%,
        rgba(255,255,255,0) 100%
      );
      pointer-events: none;
    }

    .title {
      text-align: center;
      font-size: 3rem;
      font-weight: 700;
      letter-spacing: 0.2rem;
      padding-bottom: 2rem;
    }

    .text-body { font-weight: 400; }

    #animation-container {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%,-50%);
      z-index: 30;
      opacity: 1;
      transition: opacity 1s ease-in-out;
      pointer-events: none;
    }

    #matchbox {
      position: relative;
      width: 120px;
      height: 60px;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 6px 8px rgba(0,0,0,0.2), inset 0 0 5px rgba(255,255,255,0.5);
      border: 1px solid #ccc;
      overflow: hidden;
    }

    #matchbox::before {
      content:'';
      position:absolute;
      bottom:6px;
      left:10px;
      width: 100px;
      height: 12px;
      background: #222;
      border-radius: 6px;
      box-shadow: inset 0 2px 4px rgba(0,0,0,0.5);
      z-index: 2;
    }

    #match-container {
      position: fixed;
      top:55px; 
      left:50px;
      z-index: 50;
      pointer-events:none;
      transform-origin: bottom center;
    }

    #match-aura {
      position: absolute;
      top: 0;
      left: 0;
      width: 400px;
      height: 400px;
      border-radius: 50%;
      background: radial-gradient(
        circle,
        rgba(255, 232, 8, 0.35) 0%,     
        rgba(255, 206, 0, 0.32) 40%,    
        rgba(255, 154, 0, 0.28) 70%,    
        rgba(255, 90, 0, 0.22) 85%,     
        rgba(0, 0, 0, 0) 100%           
      );
      filter: blur(28px);
      opacity: 0;
      transition: opacity 0.6s ease-in-out;
      transform: translate(-50%,-50%);
      z-index: 45;
      pointer-events: none;
      box-shadow: 0 0 120px 40px rgba(255, 180, 40, 0.08);
    }

    .flame-lit ~ #match-aura { opacity: 1; }

    .match-stick {
      width: 8px;
      height: 60px;
      background: #A36A00;
      border-radius: 4px;
      transform-origin: bottom center;
      position: relative;
      background-image: linear-gradient(to top, #7d5b1d, #a36a00, #d69800);
      box-shadow: inset 0 0 5px rgba(0,0,0,0.3);
      z-index: 50;
    }

    .match-stick::before {
      content:'';
      position:absolute;
      top:-12px;
      left:-2px;
      width:12px; height:12px;
      background: radial-gradient(circle, #ff3f3f 0%, #f07e5f 70%, #cc5f41);
      border-radius:50%;
    }

    .match-stick::after {
      content:'';
      position:absolute;
      top:-30px;
      left:-2px;
      width:12px; height:30px;
      background: linear-gradient(to top, #ff9a00, #ffd000 40%, #ff4500);
      border-radius: 50% 50% 30% 30% / 100% 100% 50% 50%;
      opacity: 0;
      transform-origin: bottom center;
      transition: opacity 0.3s ease-in-out;
    }

    .flame-lit .match-stick::after {
      opacity: 1;
      animation: flame-flicker 0.6s infinite alternate;
      filter: drop-shadow(0 0 12px rgba(255,232,8,0.9));
    }

    #sparks {
      position: absolute;
      width: 0; height: 0;
      pointer-events: none;
    }

    .spark {
      position: absolute;
      width: 2px; height: 2px;
      background: yellow;
      border-radius: 50%;
      opacity: 0.8;
      animation: spark-move 0.5s ease-out forwards;
    }

    @keyframes spark-move {
      0% { transform: translate(0,0) scale(1); opacity:1; }
      100% { transform: translate(var(--dx), var(--dy)) scale(0); opacity:0; }
    }

    .strike-animation { animation: strike-match 1.2s cubic-bezier(0.42, 0, 0.58, 1) forwards; }

    @keyframes strike-match {
      0% { transform: translate(calc(50vw - 60px), calc(50vh - 120px)) rotate(0deg); }
      50% { transform: translate(calc(50vw - 60px), calc(50vh - 35px)) rotate(-20deg); }
      80% { transform: translate(calc(50vw - 60px), calc(50vh - 30px)) rotate(-5deg); }
      100% { transform: translate(calc(50vw - 60px), calc(50vh - 30px)) rotate(0deg); }
    }

    @keyframes flame-flicker {
      0%   { transform: scaleY(1) scaleX(1); opacity: 0.9; }
      33%  { transform: scaleY(1.1) scaleX(1.05); opacity: 1; }
      66%  { transform: scaleY(0.95) scaleX(0.98); opacity: 0.9; }
      100% { transform: scaleY(1.05) scaleX(1.02); opacity: 0.95; }
    }

    /* Mobile specific styles */
    @media (max-width: 768px) {
      .title {
        font-size: 2rem;
      }
      
      .content-container {
        padding: 4rem 1rem;
      }
    }
  </style>
</head>
<body>
  <div id="animation-container">
    <div id="matchbox"></div>
  </div>

  <div id="match-container">
    <div class="match-stick"></div>
    <div id="match-aura"></div>
    <div id="sparks"></div>
  </div>

  <div class="content-container">
    <main class="content-dark" style="padding-top:200px;">
      <h1 class="title">You're the light to my dark life</h1>
      <p class="text-center text-sm leading-relaxed tracking-wider text-body">
        Place holder, no intro yet (My dearest,)<br><br>
        Place holder, no letter yet
      </p>
    </main>

    <main class="content-light" style="padding-top:200px;">
      <h1 class="title">You're the light to my dark life</h1>
      <p class="text-center text-sm leading-relaxed tracking-wider text-body">
        Place holder, no intro yet (My dearest,)<br><br>
        Place holder, no letter yet
      </p>
    </main>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const matchContainer = document.getElementById('match-container');
      const matchStick = document.querySelector('.match-stick');
      const matchAura = document.getElementById('match-aura');
      const animationContainer = document.getElementById('animation-container');
      const contentLight = document.querySelector('.content-light');
      const sparksContainer = document.getElementById('sparks');

      function createSpark() {
        const spark = document.createElement('div');
        spark.className = 'spark';
        const dx = (Math.random() - 0.5) * 40 + 'px';
        const dy = (-Math.random() * 30) + 'px';
        spark.style.setProperty('--dx', dx);
        spark.style.setProperty('--dy', dy);
        sparksContainer.appendChild(spark);
        setTimeout(() => { spark.remove(); }, 500);
      }

      matchContainer.classList.add('strike-animation');
      let sparkInterval = setInterval(createSpark, 50);

      matchContainer.addEventListener('animationend', (event) => {
        if (event.animationName === 'strike-match') {
          clearInterval(sparkInterval);
          matchStick.classList.add('flame-lit');
          matchAura.style.opacity = '1';
          matchContainer.classList.remove('strike-animation');
          animationContainer.style.opacity = '0';
          setTimeout(() => { animationContainer.style.display = 'none'; }, 1000);

          // LOCK MATCH IN CENTER
          const centerX = window.innerWidth / 2;
          const centerY = window.innerHeight / 2;
          matchContainer.style.transform = `translate(${centerX}px, ${centerY}px) rotate(10deg)`;

          // SET LIGHT TO CENTER
          const rect = contentLight.getBoundingClientRect();
          const lightX = rect.width / 2;
          const lightY = rect.height / 2;
          contentLight.style.setProperty('--match-x', `${lightX}px`);
          contentLight.style.setProperty('--match-y', `${lightY}px`);

          // FOLLOW MOUSE AND TOUCH AFTER
          const updateLightPosition = (e) => {
            e.preventDefault(); // Prevent scrolling on touch devices
            let clientX, clientY;
            // Check for touch events first
            if (e.touches && e.touches.length > 0) {
              clientX = e.touches[0].clientX;
              clientY = e.touches[0].clientY;
            } else {
              // Fallback to mouse events
              clientX = e.clientX;
              clientY = e.clientY;
            }

            const rect = contentLight.getBoundingClientRect();
            const mouseX = clientX - rect.left;
            const mouseY = clientY - rect.top;
            matchContainer.style.transform = `translate(${clientX}px, ${clientY}px) rotate(10deg)`;
            contentLight.style.setProperty('--match-x', `${mouseX}px`);
            contentLight.style.setProperty('--match-y', `${mouseY}px`);
          };
          
          // Mouse events for desktop
          window.addEventListener('mousemove', updateLightPosition);
          
          // Touch events for mobile
          window.addEventListener('touchstart', updateLightPosition, { passive: false });
          window.addEventListener('touchmove', updateLightPosition, { passive: false });
          window.addEventListener('touchend', updateLightPosition, { passive: false });
        }
      }, { once: true });
    });
  </script>
</body>
</html>
