<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Light in the Dark</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            /* Initial position to hide text until animation is done */
            --match-x: 0px;
            --match-y: 0px;
        }
        
        body {
            background-color: #000;
            color: #000; /* All text is now truly black to start */
            font-family: 'Inter', sans-serif;
            min-height: 200vh;
            cursor: none;
            overflow-x: hidden;
            letter-spacing: 0.1rem;
        }
        
        /* The main content area that holds both layers of text */
        .content-container {
            position: relative;
            padding: 8rem 2rem;
            max-width: 600px;
            margin: 0 auto;
        }

        /* The base, dark text layer. It's invisible on the black background. */
        .content-dark {
            position: relative;
            z-index: 1;
        }
        
        /* The light-reactive text layer. It's on top and revealed by the mask. */
        .content-light {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            color: #ffffff; /* This text is white and will be revealed */
            z-index: 2;
            
            /* The magic: a CSS mask that follows the cursor and matches the aura's size */
            /* This is the key change to match the aura's 300px width */
            mask-image: radial-gradient(circle at var(--match-x) var(--match-y), #fff 0%, transparent 150px);
            -webkit-mask-image: radial-gradient(circle at var(--match-x) var(--match-y), #fff 0%, transparent 150px);
            
            pointer-events: none;
        }
        
        .title {
            text-align: center;
            font-size: 3rem;
            font-weight: 700;
            letter-spacing: 0.2rem;
            padding-bottom: 2rem;
        }

        .text-body {
             font-weight: 400;
        }

        /* Initial animation container */
        #animation-container {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 30;
            opacity: 1;
            transition: opacity 1s ease-in-out;
            pointer-events: none;
        }

        /* Styling for the matchbox with more detail */
        #matchbox {
            position: relative;
            width: 120px;
            height: 60px;
            background: #f8f8f8;
            border-radius: 8px;
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.2), inset 0 0 5px rgba(255, 255, 255, 0.5);
            border: 1px solid #ccc;
            background-image: 
                linear-gradient(to right, #ffffff 1px, transparent 1px),
                linear-gradient(to bottom, #ffffff 1px, transparent 1px);
            background-size: 10px 10px;
            background-color: #f0f0f0;
            overflow: hidden;
        }
        
        /* Striking surfaces */
        #matchbox::before, #matchbox::after {
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            height: 12px;
            background: repeating-linear-gradient(45deg, #333, #333 2px, #222 2px, #222 4px);
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.5);
            z-index: 1;
        }

        #matchbox::before {
            top: 0;
            border-top-left-radius: 6px;
            border-top-right-radius: 6px;
        }

        #matchbox::after {
            bottom: 0;
            border-bottom-left-radius: 6px;
            border-bottom-right-radius: 6px;
        }

        /* Match container, fixed to the viewport to follow the cursor */
        #match-container {
            position: fixed;
            top: 0;
            left: 0;
            z-index: 20;
            pointer-events: none;
            transition: transform 0.1s ease-out;
            transform-origin: center;
        }

        /* The glowing aura behind the match */
        #match-aura {
            position: absolute;
            top: 0;
            left: 0;
            width: 300px; /* This is the anchor size for the mask */
            height: 300px; /* This is the anchor size for the mask */
            /* Refined gradient for a softer, more realistic glow */
            background: radial-gradient(circle, rgba(255, 170, 0, 0.4) 0%, rgba(255, 170, 0, 0) 100%);
            border-radius: 50%;
            opacity: 0; /* Hidden until the match is lit */
            transition: opacity 0.5s ease-in-out;
            transform: translate(-50%, -50%);
            z-index: 10; /* Placed behind the matchstick */
        }
        
        .flame-lit ~ #match-aura {
            opacity: 1;
        }

        /* Match stick styling with more detail */
        .match-stick {
            width: 8px;
            height: 60px;
            background: #A36A00;
            border-radius: 4px;
            transform-origin: bottom center;
            position: relative;
            background-image: linear-gradient(to top, #7d5b1d, #a36a00, #d69800);
            box-shadow: inset 0 0 5px rgba(0,0,0,0.3);
        }

        /* Styling for the match head */
        .match-stick::before {
            content: '';
            position: absolute;
            top: -12px;
            left: -2px;
            width: 12px;
            height: 12px;
            background-color: #f07e5f;
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2), inset 0 0 5px rgba(255,255,255,0.5);
            background: radial-gradient(circle at center, #ffbb99, #f07e5f 70%, #cc5f41);
        }

        /* Styling for the flame */
        .match-stick::after {
            content: '';
            position: absolute;
            top: -30px;
            left: -1px;
            width: 10px;
            height: 20px;
            background: linear-gradient(to top, #ff9a00, #ffcc00);
            border-radius: 50% 50% 0 0 / 100% 100% 0 0;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
            transform-origin: bottom center;
        }
        
        /* Class to show and animate the flame */
        .flame-lit .match-stick::after {
            opacity: 1;
            animation: flame-flicker 0.5s infinite alternate;
            /* Added a subtle drop-shadow to create a glow */
            filter: drop-shadow(0 0 5px orange);
        }
        
        /* Animation for the match striking out of the box */
        .strike-animation {
            animation: strike-match 2s ease-in-out forwards;
        }

        @keyframes strike-match {
            0% { transform: translate(calc(50vw - 20px), calc(50vh + 0px)) rotate(0deg); }
            40% { transform: translate(calc(50vw + 60px), calc(50vh + 10px)) rotate(-20deg); }
            60% { transform: translate(calc(50vw + 50px), calc(50vh - 10px)) rotate(5deg); }
            100% { transform: translate(calc(50vw - 20px), calc(50vh - 20px)) rotate(10deg); }
        }
        
        /* Live flame flicker animation with more variation */
        @keyframes flame-flicker {
            0% {
                transform: scale(1) translateY(0px) rotate(0deg);
                opacity: 0.8;
                filter: blur(1px) drop-shadow(0 0 5px orange);
            }
            33% {
                transform: scale(1.05) translateY(-2px) rotate(1deg);
                opacity: 1;
                filter: blur(0.5px) drop-shadow(0 0 8px orange);
            }
            66% {
                transform: scale(0.98) translateY(1px) rotate(-1deg);
                opacity: 0.9;
                filter: blur(0.8px) drop-shadow(0 0 6px orange);
            }
            100% {
                transform: scale(1.02) translateY(-1px) rotate(0.5deg);
                opacity: 0.95;
                filter: blur(0.6px) drop-shadow(0 0 7px orange);
            }
        }
    </style>
</head>
<body class="bg-black">
    <div id="animation-container">
        <div id="matchbox"></div>
    </div>
    
    <div id="match-container">
        <!-- New element for the light aura -->
        <div id="match-aura"></div>
        <div class="match-stick"></div>
    </div>
    
    <div class="content-container">
        <!-- This is the dark, invisible layer of text -->
        <main class="content-dark">
            <h1 class="title">You're the light to my dark life</h1>
            <br><br><br><br>
            <p class="text-center text-sm leading-relaxed tracking-wider text-body">
                My dearest,<br><br>
                It’s strange how I never noticed the absence of light until you came along. My world was a canvas painted in shades of gray and black, a quiet, somber place where I had learned to exist without complaint. I mistook the silence for peace and the emptiness for solitude. But then, you arrived, and it was as if someone had flicked on a single, tiny light in a vast, dark room. It wasn't a sudden, blinding flash, but a gentle, persistent glow that cut through the gloom. With you, I’ve started to see the beauty in things I had long forgotten—the way morning sunlight catches the dust motes in the air, the deep blue of the night sky, the vibrant colors of a sunset.<br><br>
                You are that small, unwavering flame, a constant point of warmth in a world that can feel so cold. Every word you speak, every laugh you share, is a spark that makes my existence a little brighter. I feel a sense of hope I didn't know I was missing, a quiet joy that grows with every moment we spend together. You don’t try to fill the darkness with a flood of light; you simply exist, and your presence is enough to illuminate the path forward. You make the world legible again.<br><br>
                I hope you know how much this means to me. Thank you for being the quiet hero of my story, the one who didn’t need to change the world, but simply brought light to mine. Thank you for showing me that even in the darkest corners, there is always something beautiful to see, something to be grateful for. Just your presence is all the warmth I will ever need to see the world again.<br><br>
                Always,<br><br>
                Your love
                <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
            </p>
        </main>
        
        <!-- This is the bright, visible layer that gets masked -->
        <main class="content-light">
            <h1 class="title">You're the light to my dark life</h1>
            <br><br><br><br>
            <p class="text-center text-sm leading-relaxed tracking-wider text-body">
                My dearest,<br><br>
                It’s strange how I never noticed the absence of light until you came along. My world was a canvas painted in shades of gray and black, a quiet, somber place where I had learned to exist without complaint. I mistook the silence for peace and the emptiness for solitude. But then, you arrived, and it was as if someone had flicked on a single, tiny light in a vast, dark room. It wasn't a sudden, blinding flash, but a gentle, persistent glow that cut through the gloom. With you, I’ve started to see the beauty in things I had long forgotten—the way morning sunlight catches the dust motes in the air, the deep blue of the night sky, the vibrant colors of a sunset.<br><br>
                You are that small, unwavering flame, a constant point of warmth in a world that can feel so cold. Every word you speak, every laugh you share, is a spark that makes my existence a little brighter. I feel a sense of hope I didn't know I was missing, a quiet joy that grows with every moment we spend together. You don’t try to fill the darkness with a flood of light; you simply exist, and your presence is enough to illuminate the path forward. You make the world legible again.<br><br>
                I hope you know how much this means to me. Thank you for being the quiet hero of my story, the one who didn’t need to change the world, but simply brought light to mine. Thank you for showing me that even in the darkest corners, there is always something beautiful to see, something to be grateful for. Just your presence is all the warmth I will ever need to see the world again.<br><br>
                Always,<br><br>
                Your love
                <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
            </p>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const matchContainer = document.getElementById('match-container');
            const matchStick = document.querySelector('.match-stick');
            const matchAura = document.getElementById('match-aura');
            const animationContainer = document.getElementById('animation-container');
            const contentLight = document.querySelector('.content-light');

            // Set initial position for the match during the animation
            matchContainer.style.transform = `translate(calc(50vw - 20px), calc(50vh + 0px)) rotate(0deg)`;
            matchContainer.classList.add('strike-animation');
            
            // Wait for the animation to complete
            matchContainer.addEventListener('animationend', (event) => {
                if (event.animationName === 'strike-match') {
                    // Turn on the flame and aura
                    matchStick.classList.add('flame-lit');
                    matchAura.style.opacity = '1';

                    // Remove the animation class to let JS take control
                    matchContainer.classList.remove('strike-animation');

                    // Hide the initial animation container
                    animationContainer.style.opacity = '0';
                    setTimeout(() => {
                        animationContainer.style.display = 'none';
                    }, 1000); // Wait for the fade out transition

                    // Set up the mouse tracking after animation is done
                    const updateLightPosition = (e) => {
                        // Get the bounding rectangle of the content-light container
                        const rect = contentLight.getBoundingClientRect();

                        // Calculate mouse position relative to the content-light container
                        const mouseX = e.clientX - rect.left;
                        const mouseY = e.clientY - rect.top;

                        // Position the match and aura to be centered on the cursor
                        matchContainer.style.transform = `translate(${e.clientX}px, ${e.clientY}px) rotate(10deg)`;
                        
                        // Position the light mask to be centered on the cursor relative to its parent container
                        contentLight.style.setProperty('--match-x', `${mouseX}px`);
                        contentLight.style.setProperty('--match-y', `${mouseY}px`);
                    };

                    window.addEventListener('mousemove', updateLightPosition);
                }
            }, { once: true });
        });
    </script>
</body>
</html>
